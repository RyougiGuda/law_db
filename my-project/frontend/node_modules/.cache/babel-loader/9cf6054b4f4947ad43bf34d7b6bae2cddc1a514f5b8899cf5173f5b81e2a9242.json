{"ast":null,"code":"// frontend/src/LawDetail.js\nimport React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{API_URL}from\"./config\";// 新增\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LawDetail(){const{id}=useParams();const navigate=useNavigate();const[lawDetail,setLawDetail]=useState(null);const[applications,setApplications]=useState([]);useEffect(()=>{fetch(`${API_URL}/laws/${id}`).then(res=>res.json()).then(data=>{setLawDetail(data.law);setApplications(data.applications||[]);}).catch(console.error);},[id]);if(!lawDetail){return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center\",children:\"\\u52A0\\u8F7D\\u4E2D...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:[/*#__PURE__*/_jsx(motion.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"text-4xl font-bold text-primary mb-4\",children:lawDetail.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:lawDetail.content}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-sm text-gray-400\",children:[\"\\u56FD\\u5BB6\\uFF1A\",lawDetail.country,lawDetail.tags&&` | 标签：${lawDetail.tags}`,lawDetail.categories&&` | 分类：${lawDetail.categories}`]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"\\u5F15\\u7528\\u8BE5\\u6CD5\\u5F8B\\u7684\\u5E94\\u7528\\u6848\\u4F8B\"}),applications.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u6682\\u65E0\\u76F8\\u5173\\u5E94\\u7528\\u6848\\u4F8B\\u3002\"}):applications.map(app=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-xl shadow-md mb-4 cursor-pointer\",onClick:()=>navigate(`/applications/${app.id}`),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-800\",children:app.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:app.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400 mt-1\",children:[\"\\u5B50\\u7C7B\\u578B\\uFF1A\",app.sub_type===\"case\"?\"案例\":app.sub_type===\"journal\"?\"期刊\":\"文书\",\"| \\u56FD\\u5BB6\\uFF1A\",app.country,app.categories&&` | 分类：${app.categories}`]})]},app.id)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"mt-4 px-4 py-2 bg-accent hover:bg-orange-600 text-white rounded font-semibold\",children:\"\\u8FD4\\u56DE\"})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","motion","API_URL","jsx","_jsx","jsxs","_jsxs","LawDetail","id","navigate","lawDetail","setLawDetail","applications","setApplications","fetch","then","res","json","data","law","catch","console","error","className","children","h1","initial","opacity","y","animate","transition","duration","title","content","country","tags","categories","length","map","app","onClick","description","sub_type"],"sources":["E:/pythonProjects/pythonProject/law_db/my-project/frontend/src/LawDetail.js"],"sourcesContent":["// frontend/src/LawDetail.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { API_URL } from \"./config\";  // 新增\r\nexport default function LawDetail() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [lawDetail, setLawDetail] = useState(null);\r\n  const [applications, setApplications] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(`${API_URL}/laws/${id}`)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setLawDetail(data.law);\r\n        setApplications(data.applications || []);\r\n      })\r\n      .catch(console.error);\r\n  }, [id]);\r\n\r\n  if (!lawDetail) {\r\n    return <div className=\"p-4 text-center\">加载中...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      <motion.h1\r\n        initial={{ opacity: 0, y: -20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.6 }}\r\n        className=\"text-4xl font-bold text-primary mb-4\"\r\n      >\r\n        {lawDetail.title}\r\n      </motion.h1>\r\n      <div className=\"bg-white p-6 rounded-xl shadow-md mb-6\">\r\n        <p className=\"text-gray-700\">{lawDetail.content}</p>\r\n        <p className=\"mt-2 text-sm text-gray-400\">\r\n          国家：{lawDetail.country}\r\n          {lawDetail.tags && ` | 标签：${lawDetail.tags}`}\r\n          {lawDetail.categories && ` | 分类：${lawDetail.categories}`}\r\n        </p>\r\n      </div>\r\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">引用该法律的应用案例</h2>\r\n      {applications.length === 0 ? (\r\n        <p className=\"text-gray-500\">暂无相关应用案例。</p>\r\n      ) : (\r\n        applications.map(app => (\r\n          <div\r\n            key={app.id}\r\n            className=\"bg-white p-4 rounded-xl shadow-md mb-4 cursor-pointer\"\r\n            onClick={() => navigate(`/applications/${app.id}`)}\r\n          >\r\n            <h3 className=\"text-xl font-bold text-gray-800\">{app.title}</h3>\r\n            <p className=\"text-gray-600 mt-2\">{app.description}</p>\r\n            <p className=\"text-sm text-gray-400 mt-1\">\r\n              子类型：{app.sub_type === \"case\" ? \"案例\" : app.sub_type === \"journal\" ? \"期刊\" : \"文书\"}\r\n              | 国家：{app.country}\r\n              {app.categories && ` | 分类：${app.categories}`}\r\n            </p>\r\n          </div>\r\n        ))\r\n      )}\r\n      <button\r\n        onClick={() => navigate(-1)}\r\n        className=\"mt-4 px-4 py-2 bg-accent hover:bg-orange-600 text-white rounded font-semibold\"\r\n      >\r\n        返回\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}